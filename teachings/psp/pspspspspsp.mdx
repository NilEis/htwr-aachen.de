---
title: EinFÜHRung in den ATmega 644
description: Was das?
author: Nils Eisenach
date: 02/12/2023
order: 1
tags: [PSP, Versuch 0, ATmega 644]
---

# Allgemein
Der ATmega 644 (das ist der große Chip in der Mitte vom Board), kann über seine Ports verschiedene Sachen ansteuern.
1. Das LC~~D~~-Display: Häufig an PORTA oder PORTB
2. Die Taster (Buttons): Eigentlich immer an PORTC (PINC7, PINC6, PINC1, PINC0)
3. Die LEDs: Wenn genutzt, dann meistens an PORTD

# Wie lese/schreibe ich an die ports?
Zum lesen und schreiben muss man erst über das entsprechende Data-Direction-Register (DDRA, DDRB, DDRC, DDRD) festlegen welche Operation man ausführen will. Lesen entspricht in dem Fall einer $0$ während man zum schreiben eine $1$ setzen muss.

Wie setzt man aber eigentlich einzelne Bits?
Es gibt drei Operationen mit denen man einfach einzelne Bits setzen kann, **ohne** dass sich die anderen Bits auch ändern.
```C
uint8_t a = 0b11001100;
uint8_t res = 0;
// setzte das MSB (most significant bit (das Bit ganz links))
// und das LSB (least significant bit (das Bit ganz rechts)) auf 0
// und weise das ergebnis der Variabel res zu

// nulle bits mit bitweisem UND (In C: "&")
res = a & 0b01111110; // res ist jetzt 0b01001100

// Wenn jetzt das MSB wieder auf 1 gesetzt werden soll,
// macht man folgendes

// setze Bit auf 1 mit logischem ODER (in C: "|")
res |= 0b10000000; // res ist jetzt 0b11001100

// Wenn jetzt jedes zweite Bit einfach nur geflippt werden soll,
// dann kann man das bitweise Exklusiv-Oder benutzen (In C: "^")
res ^= 0b01010101; // res ist jetzt 0b10011001

// Soll die gesammte Zahl geflippt werden, kann man bitweise negieren
// In C macht das der "~" Operator
res = ~res; // res ist jetzt 0b01100110
```
## Bitweise Operationen: Zusammenfassung
| Name     | Operator | Anwendung       | Ergebnis                                            |
|----------|----------|-----------------|-----------------------------------------------------|
| und      | `&`      | `res = a & b;`  | Wenn beide bits $1$ sind: $1$, sonst $0$            |
| oder     | `\|`     | `res = a \| b;` | Wenn **mindestens** ein bit $1$ ist: $1$, sonst $0$ |
| xor      | `^`      | `res = a ^ b;`  | Wenn **nur** ein bit $1$ ist, $1$: sonst $0$        |
| negation | `~`      | `res = ~a;`     | Jede $1$ wird $0$ und jede $0$ wird $1$             |

## lesen?
